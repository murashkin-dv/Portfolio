***Проект Parking-Service***

**Техническое задание**

Создание нового способа оплаты парковки: клиенту необходимо зарегистрироваться
в приложении, указать карту для оплаты и свой автомобиль. Когда автомобиль
подъезжает к парковке, камеры считывают его номер, и, если есть свободные
места, поднимается шлагбаум. При выезде также считывается номер автомобиля,
определяется количество времени парковки и автоматически списываются средства с
карты для оплаты. Никаких охранников и терминалов — всё в вашем телефоне.

**Результат**

- Подготовлены ORM-модели (клиента, парковки и лога въезда-выезда с парковки,
  используя flask_sqlalchemy)
- Подготовлен API для тестирования
- Описаны фикстуры для unit-тестов
- Протестирован API
- Протестировано взаимодействие с БД

**Описание API**

Созданы endpoints:

1. GET /clients — список всех клиентов.
2. GET /clients/<client_id> — информация клиента по ID.
3. POST /clients — создать нового клиента.
4. POST /parkings — создать новую парковочную зону.
5. POST client_parkings — заезд на парковку (проверить, открыта ли парковка,
   количество свободных мест на парковке уменьшается, фиксируется дата заезда).
   В теле запроса передать client_id, parking_id.
6. DELETE client_parkings — выезд с парковки (количество свободных мест
   увеличивается, проставляем время выезда). В теле запроса передать client_id,
   parking_id.

**Тестирование API с использованием pytest**

1. Созданы фикстуры в файле conftest.py:
    - app — приложение, внутри фикстуры создан тестовый клиент,
      парковка и парковочный лог с фиксацией времени въезда и выезда.
    - client — клиент, для запросов к приложению.
    - db — для работы с БД.
2. Написаны тесты:
    - Используя @pytest.mark.parametrize, все GET-методы возвращают код 200
    - Создание клиента
    - Создание парковки
    - Заезд на парковку
    - Выезд с парковки
3. Добавлен маркер parking для тестов «Заезд на парковку» и «Выезд с парковки».

**Factory Boy и Faker**

1. Создана фабрика ClientFactory:
    - name — генерация first_name.
    - surname — генерация last_name.
    - credit_card — либо нет карты, либо она есть.
    - car_number — генерация текста.
2. Создана фабрика ParkingFactory:
    - address — генерация адреса.
    - opened — либо True, либо False.
    - count_places — генерация Int.
    - count_available_places — LazyAttribute.

**CI**

Настроен CI в Gitlab, чтобы он запускался на каждый Pull Request и на каждый
Push в любую ветку.
